{"ast":null,"code":"var _jsxFileName = \"/Users/fredrikeriksen/Documents/FEU/PE2/my-project/src/components/home/RecentlyViewed.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { BASE_URL, headers } from \"../../constants/api\";\nimport Item from \"../accommodations/Item\";\nimport Spinner from \"../spinner/Spinner\";\n\nfunction RecentlyViewed() {\n  const [establishments, setEstablishments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const url = BASE_URL + \"establishments\";\n  const [isActive, setActive] = useState(\"false\");\n\n  const handleToggle = () => {\n    setActive(!isActive);\n  };\n\n  useEffect(() => {\n    const options = {\n      headers\n    };\n    fetch(url, options).then(response => response.json()).then(json => {\n      console.dir(json);\n\n      if (json.error) {\n        setEstablishments([]);\n        setError(json.message);\n      } else {\n        setEstablishments(json);\n      }\n    }).catch(error => console.debug(error)).finally(() => setLoading(false));\n  }, [url]);\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Spinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"recently-veiwed-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, \"Recently Viewed Accommodations\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: isActive ? \"recently-veiwed default\" : \"recently-veiwed more\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, error && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 19\n    }\n  }, error), establishments.map(establishment => {\n    const {\n      id,\n      name,\n      image,\n      price,\n      maxGuests,\n      description,\n      address\n    } = establishment;\n    return /*#__PURE__*/React.createElement(Item, {\n      key: id,\n      id: id,\n      name: name,\n      image: image,\n      price: price,\n      maxGuests: maxGuests,\n      description: description,\n      address: address,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    });\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: isActive ? \"btn-default\" : \"btn-more\",\n    onClick: handleToggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, \"View more \", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-arrow-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 19\n    }\n  })));\n}\n\nexport default RecentlyViewed;","map":{"version":3,"sources":["/Users/fredrikeriksen/Documents/FEU/PE2/my-project/src/components/home/RecentlyViewed.js"],"names":["React","useState","useEffect","BASE_URL","headers","Item","Spinner","RecentlyViewed","establishments","setEstablishments","loading","setLoading","error","setError","url","isActive","setActive","handleToggle","options","fetch","then","response","json","console","dir","message","catch","debug","finally","map","establishment","id","name","image","price","maxGuests","description","address"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { BASE_URL, headers } from \"../../constants/api\";\nimport Item from \"../accommodations/Item\";\nimport Spinner from \"../spinner/Spinner\";\n\nfunction RecentlyViewed() {\n  const [establishments, setEstablishments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const url = BASE_URL + \"establishments\";\n  const [isActive, setActive] = useState(\"false\");\n  const handleToggle = () => {\n    setActive(!isActive);\n  };\n\n  useEffect(() => {\n    const options = { headers };\n    fetch(url, options)\n      .then((response) => response.json())\n      .then((json) => {\n        console.dir(json);\n        if (json.error) {\n          setEstablishments([]);\n          setError(json.message);\n        } else {\n          setEstablishments(json);\n        }\n      })\n      .catch((error) => console.debug(error))\n      .finally(() => setLoading(false));\n  }, [url]);\n\n  if (loading) {\n    return <Spinner />;\n  }\n\n  return (\n    <div className=\"recently-veiwed-container\">\n      <h2>Recently Viewed Accommodations</h2>\n      <div\n        className={\n          isActive ? \"recently-veiwed default\" : \"recently-veiwed more\"\n        }\n      >\n        {error && <div className=\"error\">{error}</div>}\n        {establishments.map((establishment) => {\n          const { id, name, image, price, maxGuests, description, address } =\n            establishment;\n          return (\n            <Item\n              key={id}\n              id={id}\n              name={name}\n              image={image}\n              price={price}\n              maxGuests={maxGuests}\n              description={description}\n              address={address}\n            />\n          );\n        })}\n      </div>\n      <button\n        className={isActive ? \"btn-default\" : \"btn-more\"}\n        onClick={handleToggle}\n      >\n        View more <i className=\"fas fa-arrow-right\"></i>\n      </button>\n    </div>\n  );\n}\n\nexport default RecentlyViewed;\n"]},"metadata":{},"sourceType":"module"}