{"ast":null,"code":"import _regeneratorRuntime from\"/Users/fredrikeriksen/Documents/FEU/PE2/my-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/fredrikeriksen/Documents/FEU/PE2/my-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from\"react\";import{useForm}from\"react-hook-form\";import{useHistory}from\"react-router-dom\";import{BASE_URL,headers}from\"../../constants/api\";import{Helmet}from\"react-helmet\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Add(){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit;var history=useHistory();function onSubmit(_x){return _onSubmit.apply(this,arguments);}function _onSubmit(){_onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var url,options;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"data\",data);url=BASE_URL+\"establishments\";options={headers:headers,method:\"POST\",body:JSON.stringify(data)};_context.next=5;return fetch(url,options);case 5:history.push(\"/admin/establishments\");case 6:case\"end\":return _context.stop();}}},_callee);}));return _onSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"add\",children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"Add | Holidaze\"})}),/*#__PURE__*/_jsxs(\"form\",{className:\"admin-form\",onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Add Establishment\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name: \"}),/*#__PURE__*/_jsx(\"input\",{title:\"Name\",name:\"name\",type:\"name\",placeholder:\"The Example Inn\",ref:register,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"E-mail: \"}),/*#__PURE__*/_jsx(\"input\",{title:\"E-mail\",name:\"email\",type:\"email\",placeholder:\"example@domain.com\",ref:register,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"topic-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"price\",children:\"Price: \"}),/*#__PURE__*/_jsx(\"input\",{title:\"Price\",type:\"number\",name:\"price\",placeholder:\"00\",ref:register,required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"maxGuests\",children:\"Maximum guests: \"}),/*#__PURE__*/_jsx(\"input\",{title:\"Maximum number of guests\",type:\"number\",name:\"maxGuests\",placeholder:\"00\",ref:register})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"image\",children:\"Image URL: \"}),/*#__PURE__*/_jsx(\"input\",{title:\"Image\",name:\"image\",type:\"url\",placeholder:\"https://....\",ref:register,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description: \"}),/*#__PURE__*/_jsx(\"input\",{title:\"Description\",type:\"text\",name:\"description\",placeholder:\"full establishment description\",ref:register,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"topic-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lat\",children:\"Latitude: \"}),/*#__PURE__*/_jsx(\"input\",{title:\"Latitude\",type:\"number\",name:\"lat\",placeholder:\"00.000000\",ref:register}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lng\",children:\"Longitude: \"}),/*#__PURE__*/_jsx(\"input\",{title:\"Longitude\",type:\"number\",name:\"lng\",placeholder:\"00.000000\",ref:register})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"address\",children:\"Address: \"}),/*#__PURE__*/_jsx(\"input\",{title:\"Address\",type:\"address\",name:\"address\",placeholder:\"streetname, postalcode\",ref:register})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-white\",type:\"reset\",children:\"Reset\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-blue\",type:\"submit\",children:\"Add\"})]})]})]});}export default Add;","map":{"version":3,"sources":["/Users/fredrikeriksen/Documents/FEU/PE2/my-project/src/components/admin/Add.js"],"names":["React","useForm","useHistory","BASE_URL","headers","Helmet","Add","register","handleSubmit","history","onSubmit","data","console","log","url","options","method","body","JSON","stringify","fetch","push"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useHistory } from \"react-router-dom\";\nimport { BASE_URL, headers } from \"../../constants/api\";\nimport { Helmet } from \"react-helmet\";\n\nfunction Add() {\n  const { register, handleSubmit } = useForm();\n  const history = useHistory();\n\n  async function onSubmit(data) {\n    console.log(\"data\", data);\n    const url = BASE_URL + \"establishments\";\n    const options = { headers, method: \"POST\", body: JSON.stringify(data) };\n    await fetch(url, options);\n    history.push(\"/admin/establishments\");\n  }\n\n  return (\n    <div className=\"add\">\n      <Helmet>\n        <title>Add | Holidaze</title>\n      </Helmet>\n      <form className=\"admin-form\" onSubmit={handleSubmit(onSubmit)}>\n        <div>\n          <h2>Add Establishment</h2>\n        </div>\n        <div>\n          <label htmlFor=\"name\">Name: </label>\n          <input\n            title=\"Name\"\n            name=\"name\"\n            type=\"name\"\n            placeholder=\"The Example Inn\"\n            ref={register}\n            required\n          />\n        </div>\n        <div>\n          <label htmlFor=\"email\">E-mail: </label>\n          <input\n            title=\"E-mail\"\n            name=\"email\"\n            type=\"email\"\n            placeholder=\"example@domain.com\"\n            ref={register}\n            required\n          />\n        </div>\n        <div className=\"topic-group\">\n          <label htmlFor=\"price\">Price: </label>\n          <input\n            title=\"Price\"\n            type=\"number\"\n            name=\"price\"\n            placeholder=\"00\"\n            ref={register}\n            required\n          />\n          <label htmlFor=\"maxGuests\">Maximum guests: </label>\n          <input\n            title=\"Maximum number of guests\"\n            type=\"number\"\n            name=\"maxGuests\"\n            placeholder=\"00\"\n            ref={register}\n          />\n        </div>\n        <div>\n          <label htmlFor=\"image\">Image URL: </label>\n          <input\n            title=\"Image\"\n            name=\"image\"\n            type=\"url\"\n            placeholder=\"https://....\"\n            ref={register}\n            required\n          />\n        </div>\n        <div>\n          <label htmlFor=\"description\">Description: </label>\n          <input\n            title=\"Description\"\n            type=\"text\"\n            name=\"description\"\n            placeholder=\"full establishment description\"\n            ref={register}\n            required\n          />\n        </div>\n        <div className=\"topic-group\">\n          <label htmlFor=\"lat\">Latitude: </label>\n          <input\n            title=\"Latitude\"\n            type=\"number\"\n            name=\"lat\"\n            placeholder=\"00.000000\"\n            ref={register}\n          />\n          <label htmlFor=\"lng\">Longitude: </label>\n          <input\n            title=\"Longitude\"\n            type=\"number\"\n            name=\"lng\"\n            placeholder=\"00.000000\"\n            ref={register}\n          />\n        </div>\n        <div>\n          <label htmlFor=\"address\">Address: </label>\n          <input\n            title=\"Address\"\n            type=\"address\"\n            name=\"address\"\n            placeholder=\"streetname, postalcode\"\n            ref={register}\n          />\n        </div>\n        <div className=\"btn-group\">\n          <button className=\"btn-white\" type=\"reset\">\n            Reset\n          </button>\n          <button className=\"btn-blue\" type=\"submit\">\n            Add\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default Add;\n"]},"metadata":{},"sourceType":"module"}