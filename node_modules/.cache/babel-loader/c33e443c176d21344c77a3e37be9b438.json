{"ast":null,"code":"var _jsxFileName = \"/Users/fredrikeriksen/Documents/FEU/PE2/my-project/src/components/search/SearchList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { BASE_URL, headers } from \"../../constants/api\";\nimport Item from \"../accommodations/Item\";\nimport Search from \"./Search\";\nimport { NavLink } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction SearchList() {\n  _s();\n\n  const [error, setError] = useState(null);\n  const url = BASE_URL + \"establishments\";\n  const [accommodations, setEstablishments] = useState([]);\n  const [filteredEstablishments, setFilteredEstablishments] = useState([]);\n  useEffect(() => {\n    const options = {\n      headers\n    };\n    fetch(url, options).then(response => response.json()).then(json => {\n      console.dir(json);\n\n      if (json.error) {\n        setEstablishments([]);\n        setFilteredEstablishments(json.results);\n        setError(json.message);\n      } else {\n        setEstablishments(json);\n      }\n    }).catch(error => console.debug(error));\n  }, [url]);\n\n  const filterCards = function (f) {\n    const searchValue = f.target.value.toLowerCase(); // lowercase\n\n    const filteredArray = accommodations.filter(function (h) {\n      const lowerCaseName = h.name.toLowerCase(); // lowercase\n\n      if (lowerCaseName.includes(searchValue)) {\n        return true;\n      } // check if the name matches the search value\n\n\n      return false;\n    });\n    setFilteredEstablishments(filteredArray);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Search, {\n      handleSearch: filterCards\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-results\",\n      children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 19\n      }, this), filteredEstablishments.map(establishments => {\n        const {\n          id,\n          name,\n          image,\n          price,\n          maxGuests,\n          description,\n          address\n        } = establishments;\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(NavLink, {\n            to: \"/home\",\n            title: \"Close search results\",\n            className: \"btn__close\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-times\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Item, {\n              id: id,\n              name: name,\n              image: image,\n              price: price,\n              maxGuests: maxGuests,\n              description: description,\n              address: address\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(SearchList, \"0IFc4wGC1QkAWoZSNAgYNDhtYTA=\");\n\n_c = SearchList;\nexport default SearchList;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchList\");","map":{"version":3,"sources":["/Users/fredrikeriksen/Documents/FEU/PE2/my-project/src/components/search/SearchList.js"],"names":["React","useState","useEffect","BASE_URL","headers","Item","Search","NavLink","SearchList","error","setError","url","accommodations","setEstablishments","filteredEstablishments","setFilteredEstablishments","options","fetch","then","response","json","console","dir","results","message","catch","debug","filterCards","f","searchValue","target","value","toLowerCase","filteredArray","filter","h","lowerCaseName","name","includes","map","establishments","id","image","price","maxGuests","description","address"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { BASE_URL, headers } from \"../../constants/api\";\nimport Item from \"../accommodations/Item\";\nimport Search from \"./Search\";\nimport { NavLink } from \"react-router-dom\";\n\nfunction SearchList() {\n  const [error, setError] = useState(null);\n  const url = BASE_URL + \"establishments\";\n  const [accommodations, setEstablishments] = useState([]);\n  const [filteredEstablishments, setFilteredEstablishments] = useState([]);\n\n  useEffect(() => {\n    const options = { headers };\n    fetch(url, options)\n      .then((response) => response.json())\n      .then((json) => {\n        console.dir(json);\n        if (json.error) {\n          setEstablishments([]);\n          setFilteredEstablishments(json.results);\n          setError(json.message);\n        } else {\n          setEstablishments(json);\n        }\n      })\n      .catch((error) => console.debug(error));\n  }, [url]);\n\n  const filterCards = function (f) {\n    const searchValue = f.target.value.toLowerCase(); // lowercase\n    const filteredArray = accommodations.filter(function (h) {\n      const lowerCaseName = h.name.toLowerCase(); // lowercase\n      if (lowerCaseName.includes(searchValue)) {\n        return true;\n      } // check if the name matches the search value\n      return false;\n    });\n    setFilteredEstablishments(filteredArray);\n  };\n\n  return (\n    <>\n      <Search handleSearch={filterCards} />\n      <div className=\"search-results\">\n        {error && <div className=\"error\">{error}</div>}\n        {filteredEstablishments.map((establishments) => {\n          const { id, name, image, price, maxGuests, description, address } =\n            establishments;\n          return (\n            <>\n              <NavLink\n                to={\"/home\"}\n                title=\"Close search results\"\n                className=\"btn__close\"\n              >\n                <i className=\"fas fa-times\"></i>\n              </NavLink>\n              <div>\n                <Item\n                  id={id}\n                  name={name}\n                  image={image}\n                  price={price}\n                  maxGuests={maxGuests}\n                  description={description}\n                  address={address}\n                />\n              </div>\n            </>\n          );\n        })}\n      </div>\n    </>\n  );\n}\n\nexport default SearchList;\n"]},"metadata":{},"sourceType":"module"}