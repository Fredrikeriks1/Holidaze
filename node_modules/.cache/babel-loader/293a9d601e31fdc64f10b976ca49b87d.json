{"ast":null,"code":"import _slicedToArray from\"/Users/fredrikeriksen/Documents/FEU/PE2/my-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{NavLink}from\"react-router-dom\";import{BASE_URL,headers}from\"../../constants/api\";import{Helmet}from\"react-helmet\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Establishments(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),establishments=_useState2[0],setEstablishments=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var url=BASE_URL+\"establishments\";useEffect(function(){var options={headers:headers};fetch(url,options).then(function(response){return response.json();}).then(function(json){console.dir(json);if(json.error){setEstablishments([]);setError(json.message);}else{setEstablishments(json);}}).catch(function(error){return console.debug(error);});},[url]);return/*#__PURE__*/_jsxs(\"div\",{className:\"accommodations\",children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"Admin | Holidaze\"})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}),establishments.map(function(establishment){return/*#__PURE__*/_jsx(\"div\",{class:\"accommodations-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"accommodations-tiles\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"accommodations-links\",children:[/*#__PURE__*/_jsx(NavLink,{title:\"Edit establishment\",to:\"edit/\".concat(establishment.id),children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"})}),/*#__PURE__*/_jsx(NavLink,{title:\"Establishment details page\",to:\"../accommodations/\"+establishment.id,children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-eye\"})}),/*#__PURE__*/_jsx(\"a\",{title:\"Establishment image\",target:\"_blank\",rel:\"noreferrer\",href:establishment.image,children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-camera\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"accommodations-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:establishment.name}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"ID: \"}),establishment.id]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"E-mail: \"}),establishment.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Price: \"}),establishment.price]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Max-guests: \"}),establishment.maxGuests]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Description: \"}),establishment.description]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Address: \"}),establishment.address]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Location: \"}),establishment.lat,\", \",establishment.lng]})]})]})},establishment.id);})]});}export default Establishments;","map":{"version":3,"sources":["/Users/fredrikeriksen/Documents/FEU/PE2/my-project/src/components/admin/Establishments.js"],"names":["React","useState","useEffect","NavLink","BASE_URL","headers","Helmet","Establishments","establishments","setEstablishments","error","setError","url","options","fetch","then","response","json","console","dir","message","catch","debug","map","establishment","id","image","name","email","price","maxGuests","description","address","lat","lng"],"mappings":"yKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,OAAT,KAAwB,kBAAxB,CACA,OAASC,QAAT,CAAmBC,OAAnB,KAAkC,qBAAlC,CACA,OAASC,MAAT,KAAuB,cAAvB,C,wFAEA,QAASC,CAAAA,cAAT,EAA0B,CACxB,cAA4CN,QAAQ,CAAC,EAAD,CAApD,wCAAOO,cAAP,eAAuBC,iBAAvB,eACA,eAA0BR,QAAQ,CAAC,IAAD,CAAlC,yCAAOS,KAAP,eAAcC,QAAd,eACA,GAAMC,CAAAA,GAAG,CAAGR,QAAQ,CAAG,gBAAvB,CAEAF,SAAS,CAAC,UAAM,CACd,GAAMW,CAAAA,OAAO,CAAG,CAAER,OAAO,CAAPA,OAAF,CAAhB,CACAS,KAAK,CAACF,GAAD,CAAMC,OAAN,CAAL,CACGE,IADH,CACQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EADR,EAEGF,IAFH,CAEQ,SAACE,IAAD,CAAU,CACdC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACA,GAAIA,IAAI,CAACP,KAAT,CAAgB,CACdD,iBAAiB,CAAC,EAAD,CAAjB,CACAE,QAAQ,CAACM,IAAI,CAACG,OAAN,CAAR,CACD,CAHD,IAGO,CACLX,iBAAiB,CAACQ,IAAD,CAAjB,CACD,CACF,CAVH,EAWGI,KAXH,CAWS,SAACX,KAAD,QAAWQ,CAAAA,OAAO,CAACI,KAAR,CAAcZ,KAAd,CAAX,EAXT,EAYD,CAdQ,CAcN,CAACE,GAAD,CAdM,CAAT,CAgBA,mBACE,aAAK,SAAS,CAAC,gBAAf,wBACE,KAAC,MAAD,wBACE,2CADF,EADF,CAIGF,KAAK,eAAI,YAAK,SAAS,CAAC,OAAf,UAAwBA,KAAxB,EAJZ,CAKGF,cAAc,CAACe,GAAf,CAAmB,SAACC,aAAD,CAAmB,CACrC,mBACE,YAAK,KAAK,CAAC,wBAAX,uBACE,aAAK,SAAS,CAAC,sBAAf,wBACE,aAAK,SAAS,CAAC,sBAAf,wBACE,KAAC,OAAD,EACE,KAAK,CAAC,oBADR,CAEE,EAAE,gBAAUA,aAAa,CAACC,EAAxB,CAFJ,uBAIE,UAAG,SAAS,CAAC,aAAb,EAJF,EADF,cAOE,KAAC,OAAD,EACE,KAAK,CAAC,4BADR,CAEE,EAAE,CAAE,qBAAuBD,aAAa,CAACC,EAF3C,uBAIE,UAAG,SAAS,CAAC,YAAb,EAJF,EAPF,cAaE,UACE,KAAK,CAAC,qBADR,CAEE,MAAM,CAAE,QAFV,CAGE,GAAG,CAAC,YAHN,CAIE,IAAI,CAAED,aAAa,CAACE,KAJtB,uBAME,UAAG,SAAS,CAAC,eAAb,EANF,EAbF,GADF,cAuBE,aAAK,SAAS,CAAC,qBAAf,wBACE,oBAAKF,aAAa,CAACG,IAAnB,EADF,cAEE,kCACE,2BADF,CAEGH,aAAa,CAACC,EAFjB,GAFF,cAME,kCACE,+BADF,CAEGD,aAAa,CAACI,KAFjB,GANF,cAUE,kCACE,8BADF,CAEGJ,aAAa,CAACK,KAFjB,GAVF,cAcE,kCACE,mCADF,CAEGL,aAAa,CAACM,SAFjB,GAdF,cAkBE,kCACE,oCADF,CAEGN,aAAa,CAACO,WAFjB,GAlBF,cAsBE,kCACE,gCADF,CAEGP,aAAa,CAACQ,OAFjB,GAtBF,cA0BE,kCACE,iCADF,CAEGR,aAAa,CAACS,GAFjB,MAEwBT,aAAa,CAACU,GAFtC,GA1BF,GAvBF,GADF,EAAyCV,aAAa,CAACC,EAAvD,CADF,CA2DD,CA5DA,CALH,GADF,CAqED,CAED,cAAelB,CAAAA,cAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { BASE_URL, headers } from \"../../constants/api\";\nimport { Helmet } from \"react-helmet\";\n\nfunction Establishments() {\n  const [establishments, setEstablishments] = useState([]);\n  const [error, setError] = useState(null);\n  const url = BASE_URL + \"establishments\";\n\n  useEffect(() => {\n    const options = { headers };\n    fetch(url, options)\n      .then((response) => response.json())\n      .then((json) => {\n        console.dir(json);\n        if (json.error) {\n          setEstablishments([]);\n          setError(json.message);\n        } else {\n          setEstablishments(json);\n        }\n      })\n      .catch((error) => console.debug(error));\n  }, [url]);\n\n  return (\n    <div className=\"accommodations\">\n      <Helmet>\n        <title>Admin | Holidaze</title>\n      </Helmet>\n      {error && <div className=\"error\">{error}</div>}\n      {establishments.map((establishment) => {\n        return (\n          <div class=\"accommodations-wrapper\" key={establishment.id}>\n            <div className=\"accommodations-tiles\">\n              <div className=\"accommodations-links\">\n                <NavLink\n                  title=\"Edit establishment\"\n                  to={`edit/${establishment.id}`}\n                >\n                  <i className=\"fas fa-edit\"></i>\n                </NavLink>\n                <NavLink\n                  title=\"Establishment details page\"\n                  to={\"../accommodations/\" + establishment.id}\n                >\n                  <i className=\"fas fa-eye\"></i>\n                </NavLink>\n                <a\n                  title=\"Establishment image\"\n                  target={\"_blank\"}\n                  rel=\"noreferrer\"\n                  href={establishment.image}\n                >\n                  <i className=\"fas fa-camera\"></i>\n                </a>\n              </div>\n              <div className=\"accommodations-info\">\n                <h4>{establishment.name}</h4>\n                <p>\n                  <b>ID: </b>\n                  {establishment.id}\n                </p>\n                <p>\n                  <b>E-mail: </b>\n                  {establishment.email}\n                </p>\n                <p>\n                  <b>Price: </b>\n                  {establishment.price}\n                </p>\n                <p>\n                  <b>Max-guests: </b>\n                  {establishment.maxGuests}\n                </p>\n                <p>\n                  <b>Description: </b>\n                  {establishment.description}\n                </p>\n                <p>\n                  <b>Address: </b>\n                  {establishment.address}\n                </p>\n                <p>\n                  <b>Location: </b>\n                  {establishment.lat}, {establishment.lng}\n                </p>\n              </div>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default Establishments;\n"]},"metadata":{},"sourceType":"module"}