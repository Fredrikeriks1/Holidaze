{"ast":null,"code":"import _slicedToArray from\"/Users/fredrikeriksen/Documents/FEU/PE2/my-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{BASE_URL,headers}from\"../../constants/api\";import{Helmet}from\"react-helmet\";import{NavLink}from\"react-router-dom\";import DeleteEnquiry from\"./DeleteEnquiry\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Enquiries(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),enquiries=_useState2[0],setEnquiries=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var url=BASE_URL+\"enquiries\";useEffect(function(){var options={headers:headers};fetch(url,options).then(function(response){return response.json();}).then(function(json){console.dir(json);if(json.error){setEnquiries([]);setError(json.message);}else{setEnquiries(json);}}).catch(function(error){return console.debug(error);});},[url]);return/*#__PURE__*/_jsxs(\"div\",{className:\"enquiries\",children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"Enquiries | Holidaze\"})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}),enquiries.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"empty\",children:\"no enquiries\"}),enquiries.map(function(enquiry){var format={year:\"numeric\",month:\"short\",day:\"numeric\"};var checkIn=new Date(enquiry.checkIn);var checkOut=new Date(enquiry.checkOut);var createdAt=new Date(enquiry.createdAt);var newFormat=new Intl.DateTimeFormat(\"en-GB\",format);var newCheckIn=newFormat.format(checkIn);var newCheckOut=newFormat.format(checkOut);var newCreatedAt=newFormat.format(createdAt);return/*#__PURE__*/_jsxs(\"div\",{className:\"enquiries-cards\",children:[/*#__PURE__*/_jsx(NavLink,{target:\"_blank\",to:\"enquirydetail/\".concat(enquiry.establishmentId),children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-address-card\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Sent: \",newCreatedAt]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"From: \",enquiry.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Check in: \",newCheckIn]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Check out: \",newCheckOut]}),/*#__PURE__*/_jsx(DeleteEnquiry,{id:enquiry.id})]})]},enquiry.id);})]});}export default Enquiries;","map":{"version":3,"sources":["/Users/fredrikeriksen/Documents/FEU/PE2/my-project/src/components/admin/Enquiries.js"],"names":["React","useState","useEffect","BASE_URL","headers","Helmet","NavLink","DeleteEnquiry","Enquiries","enquiries","setEnquiries","error","setError","url","options","fetch","then","response","json","console","dir","message","catch","debug","length","map","enquiry","format","year","month","day","checkIn","Date","checkOut","createdAt","newFormat","Intl","DateTimeFormat","newCheckIn","newCheckOut","newCreatedAt","establishmentId","email","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { BASE_URL, headers } from \"../../constants/api\";\nimport { Helmet } from \"react-helmet\";\nimport { NavLink } from \"react-router-dom\";\nimport DeleteEnquiry from \"./DeleteEnquiry\";\n\nfunction Enquiries() {\n  const [enquiries, setEnquiries] = useState([]);\n  const [error, setError] = useState(null);\n  const url = BASE_URL + \"enquiries\";\n\n  useEffect(() => {\n    const options = { headers };\n    fetch(url, options)\n      .then((response) => response.json())\n      .then((json) => {\n        console.dir(json);\n        if (json.error) {\n          setEnquiries([]);\n          setError(json.message);\n        } else {\n          setEnquiries(json);\n        }\n      })\n      .catch((error) => console.debug(error));\n  }, [url]);\n\n  return (\n    <div className=\"enquiries\">\n      <Helmet>\n        <title>Enquiries | Holidaze</title>\n      </Helmet>\n      {error && <div className=\"error\">{error}</div>}\n      {enquiries.length === 0 && <p className=\"empty\">no enquiries</p>}\n      {enquiries.map((enquiry) => {\n        const format = { year: \"numeric\", month: \"short\", day: \"numeric\" };\n        const checkIn = new Date(enquiry.checkIn);\n        const checkOut = new Date(enquiry.checkOut);\n        const createdAt = new Date(enquiry.createdAt);\n        const newFormat = new Intl.DateTimeFormat(\"en-GB\", format);\n        const newCheckIn = newFormat.format(checkIn);\n        const newCheckOut = newFormat.format(checkOut);\n        const newCreatedAt = newFormat.format(createdAt);\n\n        return (\n          <div className=\"enquiries-cards\" key={enquiry.id}>\n            <NavLink\n              target=\"_blank\"\n              to={`enquirydetail/${enquiry.establishmentId}`}\n            >\n              <i className=\"fas fa-address-card\"></i>\n            </NavLink>\n            <div>\n              <p>Sent: {newCreatedAt}</p>\n              <p>From: {enquiry.email}</p>\n              <p>Check in: {newCheckIn}</p>\n              <p>Check out: {newCheckOut}</p>\n              <DeleteEnquiry id={enquiry.id} />\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default Enquiries;\n"]},"metadata":{},"sourceType":"module"}