{"ast":null,"code":"var _jsxFileName = \"/Users/fredrikeriksen/Documents/FEU/PE2/my-project/src/components/admin/ViewMessage.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useParams } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\nimport { BASE_URL, headers } from \"../../constants/api\";\nimport DeleteMessage from \"./DeleteMessage\";\nimport Spinner from \"../spinner/Spinner\";\n\nfunction Edit() {\n  const defaultState = {\n    name: \"\",\n    email: \"\"\n  };\n  const history = useHistory();\n  const {\n    handleSubmit\n  } = useForm();\n  const [contact, setContact] = useState(defaultState);\n  let {\n    id\n  } = useParams();\n  const options = {\n    headers\n  };\n  const fetchUrl = BASE_URL + \"contacts/\" + id;\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    fetch(fetchUrl, options).then(response => response.json()).then(json => setContact(json)).catch(error => console.debug(error)).finally(() => setLoading(false));\n  });\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Spinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 12\n      }\n    });\n  }\n\n  async function onSubmit(data) {\n    console.log(\"data\", data);\n    await fetch(fetchUrl);\n    history.push(\"/admin/messages\");\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"view-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"admin-form\",\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, \"\\u2190 Back to messages\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, contact.name, \" \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 28\n    }\n  }, contact.email)), /*#__PURE__*/React.createElement(\"a\", {\n    title: \"reply\",\n    href: `mailto:${contact.email}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-reply\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(DeleteMessage, {\n    id: id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, contact.message))));\n}\n\nexport default Edit;","map":{"version":3,"sources":["/Users/fredrikeriksen/Documents/FEU/PE2/my-project/src/components/admin/ViewMessage.js"],"names":["React","useState","useEffect","useForm","useParams","useHistory","BASE_URL","headers","DeleteMessage","Spinner","Edit","defaultState","name","email","history","handleSubmit","contact","setContact","id","options","fetchUrl","loading","setLoading","fetch","then","response","json","catch","error","console","debug","finally","onSubmit","data","log","push","message"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useParams } from \"react-router-dom\";\nimport { useHistory } from \"react-router-dom\";\nimport { BASE_URL, headers } from \"../../constants/api\";\nimport DeleteMessage from \"./DeleteMessage\";\nimport Spinner from \"../spinner/Spinner\";\n\nfunction Edit() {\n  const defaultState = {\n    name: \"\",\n    email: \"\",\n  };\n\n  const history = useHistory();\n  const { handleSubmit } = useForm();\n  const [contact, setContact] = useState(defaultState);\n  let { id } = useParams();\n  const options = { headers };\n  const fetchUrl = BASE_URL + \"contacts/\" + id;\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetch(fetchUrl, options)\n      .then((response) => response.json())\n      .then((json) => setContact(json))\n      .catch((error) => console.debug(error))\n      .finally(() => setLoading(false));\n  });\n\n  if (loading) {\n    return <Spinner />;\n  }\n\n  async function onSubmit(data) {\n    console.log(\"data\", data);\n    await fetch(fetchUrl);\n    history.push(\"/admin/messages\");\n  }\n\n  return (\n    <div className=\"view-message\">\n      <form className=\"admin-form\" onSubmit={handleSubmit(onSubmit)}>\n        <button className=\"btn-link\">&#8592; Back to messages</button>\n        <div>\n          <p>\n            {contact.name} <span>{contact.email}</span>\n          </p>\n          <a title=\"reply\" href={`mailto:${contact.email}`}>\n            <i className=\"fas fa-reply\"></i>\n          </a>\n          <DeleteMessage id={id} />\n        </div>\n        <div>\n          <p>{contact.message}</p>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default Edit;\n"]},"metadata":{},"sourceType":"module"}