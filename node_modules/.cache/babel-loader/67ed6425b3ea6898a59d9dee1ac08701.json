{"ast":null,"code":"var _jsxFileName = \"/Users/fredrikeriksen/Documents/FEU/PE2/my-project/src/components/search/SearchList.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { BASE_URL, headers } from \"../../constants/api\";\nimport Item from \"../accommodations/Item\";\nimport Search from \"./Search\";\nimport { NavLink } from \"react-router-dom\";\n\nfunction SearchList() {\n  const [error, setError] = useState(null);\n  const url = BASE_URL + \"establishments\";\n  const [accommodations, setEstablishments] = useState([]);\n  const [filteredEstablishments, setFilteredEstablishments] = useState([]);\n  useEffect(() => {\n    const options = {\n      headers\n    };\n    fetch(url, options).then(response => response.json()).then(json => {\n      console.dir(json);\n\n      if (json.error) {\n        setEstablishments([]);\n        setFilteredEstablishments(json.results);\n        setError(json.message);\n      } else {\n        setEstablishments(json);\n      }\n    }).catch(error => console.debug(error));\n  }, [url]);\n\n  const filterCards = function (f) {\n    const searchValue = f.target.value.toLowerCase(); // lowercase\n\n    const filteredArray = accommodations.filter(function (h) {\n      const lowerCaseName = h.name.toLowerCase(); // lowercase\n\n      if (lowerCaseName.includes(searchValue)) {\n        return true;\n      } // check if the name matches the search value\n\n\n      return false;\n    });\n    setFilteredEstablishments(filteredArray);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Search, {\n    handleSearch: filterCards,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-results\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, error && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 19\n    }\n  }, error), filteredEstablishments.map(establishments => {\n    const {\n      id,\n      name,\n      image,\n      price,\n      maxGuests,\n      description,\n      address\n    } = establishments;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(NavLink, {\n      to: \"/home\",\n      title: \"Close search results\",\n      className: \"btn__close\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-times\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Item, {\n      id: id,\n      name: name,\n      image: image,\n      price: price,\n      maxGuests: maxGuests,\n      description: description,\n      address: address,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }\n    })));\n  })));\n}\n\nexport default SearchList;","map":{"version":3,"sources":["/Users/fredrikeriksen/Documents/FEU/PE2/my-project/src/components/search/SearchList.js"],"names":["React","useState","useEffect","BASE_URL","headers","Item","Search","NavLink","SearchList","error","setError","url","accommodations","setEstablishments","filteredEstablishments","setFilteredEstablishments","options","fetch","then","response","json","console","dir","results","message","catch","debug","filterCards","f","searchValue","target","value","toLowerCase","filteredArray","filter","h","lowerCaseName","name","includes","map","establishments","id","image","price","maxGuests","description","address"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { BASE_URL, headers } from \"../../constants/api\";\nimport Item from \"../accommodations/Item\";\nimport Search from \"./Search\";\nimport { NavLink } from \"react-router-dom\";\n\nfunction SearchList() {\n  const [error, setError] = useState(null);\n  const url = BASE_URL + \"establishments\";\n  const [accommodations, setEstablishments] = useState([]);\n  const [filteredEstablishments, setFilteredEstablishments] = useState([]);\n\n  useEffect(() => {\n    const options = { headers };\n    fetch(url, options)\n      .then((response) => response.json())\n      .then((json) => {\n        console.dir(json);\n        if (json.error) {\n          setEstablishments([]);\n          setFilteredEstablishments(json.results);\n          setError(json.message);\n        } else {\n          setEstablishments(json);\n        }\n      })\n      .catch((error) => console.debug(error));\n  }, [url]);\n\n  const filterCards = function (f) {\n    const searchValue = f.target.value.toLowerCase(); // lowercase\n    const filteredArray = accommodations.filter(function (h) {\n      const lowerCaseName = h.name.toLowerCase(); // lowercase\n      if (lowerCaseName.includes(searchValue)) {\n        return true;\n      } // check if the name matches the search value\n      return false;\n    });\n    setFilteredEstablishments(filteredArray);\n  };\n\n  return (\n    <>\n      <Search handleSearch={filterCards} />\n      <div className=\"search-results\">\n        {error && <div className=\"error\">{error}</div>}\n        {filteredEstablishments.map((establishments) => {\n          const { id, name, image, price, maxGuests, description, address } =\n            establishments;\n          return (\n            <>\n              <NavLink\n                to={\"/home\"}\n                title=\"Close search results\"\n                className=\"btn__close\"\n              >\n                <i className=\"fas fa-times\"></i>\n              </NavLink>\n              <div>\n                <Item\n                  id={id}\n                  name={name}\n                  image={image}\n                  price={price}\n                  maxGuests={maxGuests}\n                  description={description}\n                  address={address}\n                />\n              </div>\n            </>\n          );\n        })}\n      </div>\n    </>\n  );\n}\n\nexport default SearchList;\n"]},"metadata":{},"sourceType":"module"}